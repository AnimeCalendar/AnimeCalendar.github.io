"use strict";let titleList=Object.keys(Object.assign(JSON.parse(localStorage.getItem("storage")),JSON.parse(localStorage.getItem("past"))));const search=document.getElementById("search"),titles=document.getElementById("titles");let indexLi=99;function move(e){let t=document.getElementById((indexLi+e).toString());t&&(t.classList.add("active"),t.focus(),search.focus(),t.nextElementSibling&&t.nextElementSibling.classList.remove("active"),t.previousElementSibling&&t.previousElementSibling.classList.remove("active"),document.getElementById((indexLi+e).toString())&&(indexLi+=e))}search.onkeyup=e=>{if(1==e.key.length||"Backspace"==e.key||"Delete"==e.key){let t=e.target.value;if(indexLi=99,t){titles.style.display="",titles.innerHTML="";let e=100;for(let i of titleList)if(i.toLocaleLowerCase().includes(t.toLocaleLowerCase())){let t=document.createElement("li");t.innerHTML=i,t.classList.add("highlight"),t.setAttribute("id",e.toString()),t.setAttribute("tabindex",(e-100).toString()),e++,t.addEventListener("click",(function(){console.log(this.innerHTML)})),titles.append(t)}100==e&&(titles.style.display="none")}else titles.style.display="none"}},search.onkeydown=e=>{switch(e.keyCode){case 38:move(-1),e.preventDefault();break;case 40:move(1),e.preventDefault()}},search.addEventListener("focusout",(e=>{titles.style.display=e.relatedTarget&&"active"==e.relatedTarget.classList[1]?"":"none"}));
