"use strict";document.getElementById("info").selectedIndex=parseInt(localStorage.getItem("info")),document.getElementById("format").selectedIndex=parseInt(localStorage.getItem("format")),document.getElementById("list").innerHTML=localStorage.getItem("list")??"Your List";let CAL=new Calendar("21.3.2"),SON=new Season;function list(){let e=document.getElementById("list");e.innerHTML="Full List"==e.innerHTML?"Your List":"Full List",localStorage.setItem("list",e.innerHTML),document.getElementById("calendar")?"visible"==CAL.left.style.visibility?CAL.init():CAL.init(-7):(document.getElementById("season").remove(),SON.init())}window.onload=()=>{CAL.init().then((()=>{new Search(Object.keys(Object.assign({},CAL.store,CAL.past)))})),new Streams},window.matchMedia("(min-width: 1200px)").addListener((e=>{document.querySelectorAll(".date").forEach((e=>{[e.innerHTML,e.title]=[e.title,e.innerHTML]}))})),document.onkeydown=e=>{if("search"!=e.target.id&&!e.ctrlKey&&!e.altKey){switch(e.key){case"c":CAL.clear();break;case"f":document.getElementById("format").focus();break;case"i":document.getElementById("info").focus();break;case"l":list();break;case"m":let t=document.getElementById("calendar");t?t.focus():document.getElementById("season").focus();break;case"n":CAL.Right();break;case"p":CAL.Left();break;case"s":document.getElementById("search").focus(),e.preventDefault();break;case"Escape":case"Enter":e.target.blur()}if(document.getElementById("show")){switch(e.key){case"a":CAL.setter();break;case"n":case"p":CAL.arrow();break;case"r":CAL.Reset();break;case"w":let t={};document.querySelectorAll(".stream").forEach((e=>t[e.innerText.substring(1)]=e.href));let a=JSON.parse(localStorage.getItem("streams")),n=!0;for(const e in a)if(a[e][1]&&a[e][0]in t){window.open(t[a[e][0]]),n=!1,CAL.Stream();break}if(n){let e=document.querySelector(".stream-box");e.style.backgroundColor="darkred",setTimeout((()=>e.style.backgroundColor="black"),50)}break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":CAL.link(""+(parseInt(e.key)-1))}e.stopImmediatePropagation()}}};
