"use strict";document.getElementById("info").selectedIndex=parseInt(localStorage.getItem("info")),document.getElementById("format").selectedIndex=parseInt(localStorage.getItem("format")),localStorage.getItem("list")&&(document.getElementById("list").innerHTML=localStorage.getItem("list")),localStorage.getItem("shows")||localStorage.setItem("shows",JSON.stringify({}));let son,cal=new Calendar("21.3.2");window.onload=()=>{cal.init().then((()=>{new Search(cal.store,cal.past)})),new Streams,son=new Season},window.matchMedia("(min-width: 1200px)").addListener((e=>{document.querySelectorAll(".date").forEach((e=>{[e.innerHTML,e.title]=[e.title,e.innerHTML]}))})),document.onkeydown=e=>{if("search"!=e.target.id&&!e.ctrlKey&&!e.altKey){switch(e.key){case"c":cal.clear();break;case"f":document.getElementById("format").focus();break;case"i":document.getElementById("info").focus();break;case"l":cal.list();break;case"m":let t=document.getElementById("calendar");t?t.focus():document.getElementById("season").focus();break;case"n":cal.Right();break;case"p":cal.Left();break;case"s":document.getElementById("search").focus(),e.preventDefault();break;case"Escape":case"Enter":e.target.blur()}if(document.getElementById("show")){switch(e.key){case"a":cal.setter();break;case"n":case"p":cal.arrow();break;case"r":cal.Reset();break;case"w":let t={};document.querySelectorAll(".stream").forEach((e=>t[e.innerText.substring(1)]=e.href));let a=JSON.parse(localStorage.getItem("streams")),c=!0;for(const e in a)if(a[e][1]&&a[e][0]in t){window.open(t[a[e][0]]),c=!1,cal.Stream();break}if(c){let e=document.querySelector(".stream-box");e.style.backgroundColor="darkred",setTimeout((()=>e.style.backgroundColor="black"),50)}break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":cal.link(""+(parseInt(e.key)-1))}e.stopImmediatePropagation()}}};
