"use strict";class Streams{constructor(){this.drag,this.dragover,this.streams=JSON.parse(localStorage.getItem("streams"))??[["AnimeLab",!1],["Crunchyroll",!1],["Funimation",!1],["HiDive",!1],["Hulu",!1],["VRV",!1],["Wakanim",!1],["YouTube",!1]],this.renderItems()}renderItems(){const e=document.querySelector(".stream-box");e.innerText="";for(const t in this.streams){const s=document.createElement("div");s.draggable=!0,s.className="stream-drag",s.ondrag=e=>{this.drag=e.target.innerText},s.ondragover=e=>{e.preventDefault(),this.dragover=e.target.innerText},s.ondrop=()=>{const e=this.index(this.drag),t=this.index(this.dragover);this.streams.splice(e,1),this.streams.splice(t,0,[this.drag,document.querySelector(`[name=${this.drag}]`).checked]),this.renderItems()},s.id=`s${t}`;const r=document.createElement("input");r.type="checkbox",r.name=this.streams[t][0],r.className="stream-input",r.onclick=e=>{const t=e.target;this.streams[Number(t.parentElement.id.substring(1))][1]=t.checked,localStorage.setItem("streams",JSON.stringify(this.streams))},r.checked=this.streams[t][1];const a=document.createElement("label");a.className="stream-label",a.setAttribute("for",this.streams[t][0]),a.innerHTML=this.streams[t][0],s.append(r),s.append(a),e.append(s)}localStorage.setItem("streams",JSON.stringify(this.streams))}index(e){for(let t=0;t<this.streams.length;t++)if(e===this.streams[t][0])return t}}
